language: generic
jobs:
  include:
    - os: linux
    dist: bionic
    sudo: required
    addons:
      apt:
        update: true
    env:
      - DISPLAY=:99.0
    services:
      - xvfb
  include:
    - os: osx
before_install:
  - if [ "$TRAVIS_OS_NAME" = "osx" ]; then brew install python3; fi
  - python3 install.py
  - export BOTO_CONFIG=/dev/null
install: "python3 setup.py develop"
script:
  - python3 ./omf/runAllTests.py omf