<head>
	<title>Open Modeling Framework</title>
	<meta charset='utf-8'>
	<link href='../../static/omf.css' type='text/css' rel='stylesheet'/>
	<link rel='shortcut icon' href='../../static/favicon.ico'>
	<style>
		/*INPUT*/
		table.modelOptions {width:70%; text-align:left; margin-left:auto;}
		/*OUTPUT*/
		pre.stdoutBlock {display:inline-block; width:490px; overflow-x:hidden; padding-left:10px; vertical-align:top;}
		div.stdouts {overflow-x:auto;white-space: nowrap; margin-top:0px;}
		div.tightContent {width:1000px; margin-left:auto; margin-right:auto; margin-top:0px; margin-bottom:20px; border-style: solid; border-color:gray; border-width:1px 0px 1px 0px; background-color:white;}
		div.tightContent div {margin-top:0px;margin-bottom:0px; border:none;}
		div.tightContent div + div {margin-top:0px; margin-bottom:0px;}
		p.reportTitle {padding:10px; width:1000px; margin:20px auto 0px auto; font-size:16pt;}
		div.studyTitleBox {position: absolute; width:30px; left:-30px; height:100%; top:-1px; background-color:lightgray; border-style: solid !important; border-color:gray !important; border-width:1px 0px 1px 0px !important; font-size:10pt; overflow:hidden;}
		p.studyTitle {writing-mode:tb-rl; filter: flipv fliph; -webkit-transform:rotate(90deg); -moz-transform:rotate(90deg); -o-transform: rotate(90deg); white-space:nowrap; display:block; padding:10px;}
		div.studyContainer {position:relative;}
		#input {margin-top: 0px;}
		input {border-bottom:thin dotted black;text-align:right;padding-right:5px}
		button {width:auto;}
		td,th {text-align: right}
	</style>
	<!-- Includes -->
	<script type='text/javascript' src='../../static/omf.js'></script>
	<script type="text/javascript" src='../../static/jquery-1.9.1.js'></script>
	<script src='../../static/highcharts.src.js'></script>	
	<!-- Data -->
	<script src='metadata.js'></script>
	<script src='allOutputData.js'></script>
	<script type="text/javascript">
		function init() {
			gebi('title').innerHTML += metadata.modelName
		}

		function saveModel() {
		}

		function runModel() {
			saveModel()
			// Actually run here.
		}
	</script>
</head>
<body onload='init()'>
	<div id='title'>
		<div id='logoBox'><a href='/'>â–¦</a></div>
		<!--Title:-->
	</div>
	<p class='reportTitle'>Model Input</p>
	<div id='input' class='content'>
		<table class='modelOptions'>
			<tr>
				<td>Model Name</td><td><input type='text' id='modelName'/></td>
			</tr>
			<tr>
				<td>Feeder Name</td><td><input type='text' id='feederName'/></td>
			</tr>
			<tr>
				<td>Climate</td><td><input type='text' id='climateName'/></td>
			</tr>
			<tr>
				<td>Simulation Length</td><td><input type='text' id='simLength'/></td>
			</tr>
			<tr>
				<td></td><td><input type='radio' id='minutes' class='radio' name='simLengthUnits' value='minutes'/> Minutes <input type='radio' id='hours' class='radio' name='simLengthUnits' value='hours'/> Hours <input type='radio' id='days' class='radio' name='simLengthUnits' value='days'/> Days </td></tr>
				<tr>
					<td>Simulation Start Date <br/> (YYYY-MM-DD)</td><td><input type='text' id='simStartDate'/></td>
				</tr>
				<tr>
					<td></td>
					<td><button onclick='javascript:saveAnalysis()'>Save Model</button><button onclick='javascript:runAnalysis()'>Run Model</button></td>
				</tr>
		</table>
	</div>
	<div id='output'>
		<p class="reportTitle">Climate</p>
		<div id="climateReport" class="tightContent">
			<div id="climateStudy" class="studyContainer">
				<div id="climateChartDiv" style="height:250px"></div>
				<script>
				climateSeriesData = [
					{"name":"Rain Fall (in/h)","marker":{"enabled":false},"color":"dimgray","data":allOutputData.climate['Rain Fall (in/h)']},
					{"name":"Wind Speed (m/s)","marker":{"enabled":false},"color":"darkgray","data":allOutputData.climate['Wind Speed (m/s)']},
					{"name":"Direct Insolation (W/m^2)","marker":{"enabled":false},"color":"darkgray","data":allOutputData.climate['Direct Insolation (W/m^2)']},
					{"name":"Temperature (F)","marker":{"enabled":false},"color":"gainsboro","data":allOutputData.climate['Temperature (F)']},
					{"name":"Snow Depth (in)","marker":{"enabled":false},"color":"gainsboro","data":allOutputData.climate['Snow Depth (in)']}]
				new Highcharts.Chart({"credits":{"enabled":false},"plotOptions":{"series":{"pointStart":1338940800000,"shadow":false,"pointInterval":3600000},"line":{"marker":{"enabled":false}}},"xAxis":{"maxZoom":108000000,"tickColor":"gray","type":"datetime","lineColor":"gray"},"title":{"text":null},"series":climateSeriesData,"yAxis":{"title":{"text":"Climate Units","style":{"color":"gray"}}},"chart":{"marginBottom":20,"zoomType":"x","renderTo":"climateChartDiv","type":"line","marginRight":20},"tooltip":{"valueDecimals":1},"legend":{"verticalAlign":"top","align":"top","borderWidth":0,"x":50,"y":-10,"layout":"horizontal"}})</script>
			</div>
		</div>

		<p class="reportTitle">Power Consumption From Transmission System</p>

		<p class="reportTitle">Triplex Meter Voltages</p>
		<div id='triplexMeterVoltageReport' class='tightContent'>
			<div id='triplexMeterVoltageChart' style='height:250px'></div>
			<script>
				triplexSeriesData = [{"marker":{"enabled":false},"color":"gray","data":allOutputData.allMeterVoltages.Min,"name":"Min"},
					{"marker":{"enabled":false},"color":"blue","data":allOutputData.allMeterVoltages.Mean,"name":"Mean"},{"marker":{"enabled":false},"color":"gray","data":allOutputData.allMeterVoltages.Max,"name":"Max"}]
				new Highcharts.Chart({"credits":{"enabled":false},"plotOptions":{"series":{"pointStart":1338940800000,"shadow":false,"pointInterval":3600000},"line":{"marker":{"enabled":false}}},"xAxis":{"maxZoom":108000000,"tickColor":"gray","type":"datetime","lineColor":"gray"},"title":{"text":null},"series":triplexSeriesData,"yAxis":{"title":{"text":"Volts","style":{"color":"gray"}}},"chart":{"marginBottom":20,"zoomType":"x","renderTo":"triplexMeterVoltageChart","type":"line","marginRight":20},"tooltip":{"valueDecimals":1},"legend":{"verticalAlign":"top","align":"top","borderWidth":0,"x":50,"y":-10,"layout":"horizontal"}})
			</script>
		</div>

		<p class="reportTitle">Model Runtime Statistics</p>

		<p class="reportTitle">Model Details</p>

	</div>
</body>